# useLayoutEffect Hook è¯¦è§£ ğŸ¨

## åŸºæœ¬æ¦‚å¿µ

useLayoutEffect æ˜¯ React æä¾›çš„ä¸€ä¸ªä¸ useEffect ç±»ä¼¼çš„ Hookï¼Œä½†å®ƒåœ¨æ‰§è¡Œæ—¶æœºä¸Šæœ‰ä¸€ä¸ªé‡è¦çš„åŒºåˆ«ï¼š

- ğŸ”„ **useEffect**: åœ¨æµè§ˆå™¨å®Œæˆå¸ƒå±€å’Œç»˜åˆ¶**ä¹‹å**å¼‚æ­¥æ‰§è¡Œ
- âš¡ **useLayoutEffect**: åœ¨æµè§ˆå™¨æ‰§è¡Œç»˜åˆ¶**ä¹‹å‰**åŒæ­¥æ‰§è¡Œ

## ä½¿ç”¨åœºæ™¯

### 1. é¿å…è§†è§‰é—ªçƒ

å½“ä½ éœ€è¦åœ¨ DOM æ›´æ–°åç«‹å³è¿›è¡Œæµ‹é‡æˆ–ä¿®æ”¹ï¼Œå¹¶ä¸”ä¸å¸Œæœ›ç”¨æˆ·çœ‹åˆ°ä¸­é—´çŠ¶æ€æ—¶ï¼ŒuseLayoutEffect æ˜¯æœ€ä½³é€‰æ‹©ã€‚

```tsx
// âŒ ä½¿ç”¨ useEffect å¯èƒ½ä¼šçœ‹åˆ°é—ªçƒ
useEffect(() => {
  element.style.transform = `translate(${x}px, ${y}px)`;
}, [x, y]);

// âœ… ä½¿ç”¨ useLayoutEffect å¯ä»¥é¿å…é—ªçƒ
useLayoutEffect(() => {
  element.style.transform = `translate(${x}px, ${y}px)`;
}, [x, y]);
```

### 2. DOM æµ‹é‡å’Œæ›´æ–°

å½“ä½ éœ€è¦æµ‹é‡ DOM å…ƒç´ å¹¶ç«‹å³åŸºäºæµ‹é‡ç»“æœæ›´æ–°å…¶æ ·å¼æˆ–ä½ç½®æ—¶ï¼š

```tsx
// âŒ ä½¿ç”¨ useEffect å¯èƒ½ä¼šçœ‹åˆ°å…ƒç´ ä½ç½®è·³åŠ¨
useEffect(() => {
  const rect = element.getBoundingClientRect();
  updatePosition(rect);
}, [element]);

// âœ… ä½¿ç”¨ useLayoutEffect å¯ä»¥ç¡®ä¿å¹³æ»‘è¿‡æ¸¡
useLayoutEffect(() => {
  const rect = element.getBoundingClientRect();
  updatePosition(rect);
}, [element]);
```

### 3. å·¥å…·æç¤ºå’Œå¼¹å‡ºæ¡†å®šä½

å½“ä½ éœ€è¦æ ¹æ®ç›®æ ‡å…ƒç´ çš„ä½ç½®æ¥æ”¾ç½®å·¥å…·æç¤ºæˆ–å¼¹å‡ºæ¡†æ—¶ï¼š

```tsx
useLayoutEffect(() => {
  if (tooltipRef.current && targetRef.current) {
    const targetRect = targetRef.current.getBoundingClientRect();
    const tooltipRect = tooltipRef.current.getBoundingClientRect();
    
    tooltipRef.current.style.left = `${targetRect.left + (targetRect.width - tooltipRect.width) / 2}px`;
    tooltipRef.current.style.top = `${targetRect.top - tooltipRect.height - 8}px`;
  }
}, []);
```

### 4. åŠ¨ç”»åº“é›†æˆ

ä¸ Framer Motionã€GSAP ç­‰åŠ¨ç”»åº“é›†æˆæ—¶ï¼š

```tsx
const AnimatedComponent = () => {
  const elementRef = useRef();
  
  useLayoutEffect(() => {
    // ä½¿ç”¨ GSAP åˆ›å»ºåŠ¨ç”»
    gsap.to(elementRef.current, {
      x: 100,
      duration: 1,
      ease: "power2.out"
    });
  }, []);

  return <div ref={elementRef}>åŠ¨ç”»å†…å®¹</div>;
};
```

## React 19 å¹¶å‘ç‰¹æ€§ä¸ useLayoutEffect ğŸ†•

### 1. å¹¶å‘æ¸²æŸ“ä¸­çš„æ³¨æ„äº‹é¡¹

åœ¨ React 19 çš„å¹¶å‘æ¸²æŸ“æ¨¡å¼ä¸‹ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„ï¼š

- useLayoutEffect ä»ç„¶æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œä¸ä¼šè¢«å¹¶å‘ç‰¹æ€§å½±å“
- åœ¨ Suspense è¾¹ç•Œå†…ä½¿ç”¨æ—¶è¦æ ¼å¤–å°å¿ƒ
- é¿å…åœ¨ useLayoutEffect ä¸­è§¦å‘çŠ¶æ€æ›´æ–°

```tsx
// âš ï¸ å¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜
useLayoutEffect(() => {
  setWidth(containerRef.current.offsetWidth);
}, []);

// âœ… æ¨èåšæ³•
const width = useRef();
useLayoutEffect(() => {
  width.current = containerRef.current.offsetWidth;
  // å¿…è¦æ—¶å†æ›´æ–°çŠ¶æ€
  if (needsUpdate) {
    setWidth(width.current);
  }
}, []);
```

## æ€§èƒ½è€ƒè™‘ âš ï¸

è™½ç„¶ useLayoutEffect å¯ä»¥é¿å…è§†è§‰é—ªçƒï¼Œä½†å®ƒä¹Ÿæœ‰ä¸€äº›æ½œåœ¨çš„ç¼ºç‚¹ï¼š

1. ğŸŒ **é˜»å¡æ¸²æŸ“**: å› ä¸ºæ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œå¦‚æœé€»è¾‘å¤æ‚å¯èƒ½ä¼šå¯¼è‡´é¡µé¢æ¸²æŸ“å»¶è¿Ÿ
2. ğŸ’» **ä»…åœ¨å®¢æˆ·ç«¯**: åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æ—¶ä¼šæ”¶åˆ°è­¦å‘Šï¼Œå› ä¸ºå®ƒåªèƒ½åœ¨å®¢æˆ·ç«¯æ‰§è¡Œ
3. ğŸ”„ **å¯èƒ½å½±å“æ€§èƒ½**: å¦‚æœåœ¨ effect ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œï¼Œå¯èƒ½ä¼šå¯¼è‡´é¡µé¢å¡é¡¿

## å¸¸è§é—®é¢˜

### Q1: useLayoutEffect å’Œ useEffect æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

A: useLayoutEffect å’Œ useEffect çš„ä¸»è¦åŒºåˆ«åœ¨äºæ‰§è¡Œæ—¶æœºå’Œæ€§èƒ½å½±å“ï¼š

1. **æ‰§è¡Œæ—¶æœº**
   - useLayoutEffect åœ¨ DOM æ›´æ–°ååŒæ­¥æ‰§è¡Œ
   - useEffect åœ¨æ¸²æŸ“å®Œæˆåå¼‚æ­¥æ‰§è¡Œ
   - useLayoutEffect æ€»æ˜¯æ¯” useEffect å…ˆæ‰§è¡Œ

2. **æ€§èƒ½å½±å“**
   - useLayoutEffect å¯èƒ½ä¼šé˜»å¡è§†è§‰æ›´æ–°
   - useEffect ä¸ä¼šé˜»å¡æµè§ˆå™¨ç»˜åˆ¶

```tsx
// âŒ ä½¿ç”¨ useEffect å¯èƒ½å¯¼è‡´é—ªçƒ
useEffect(() => {
  element.style.transform = `translate(${x}px, ${y}px)`;
}, [x, y]);

// âœ… ä½¿ç”¨ useLayoutEffect é¿å…é—ªçƒ
useLayoutEffect(() => {
  element.style.transform = `translate(${x}px, ${y}px)`;
}, [x, y]);
```

### Q2: ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨ useLayoutEffectï¼Ÿ

A: useLayoutEffect ä¸»è¦åœ¨ä»¥ä¸‹åœºæ™¯ä¸­ä½¿ç”¨ï¼š
1. éœ€è¦åœ¨è§†è§‰æ›´æ–°ä¹‹å‰è¿›è¡Œ DOM æµ‹é‡
2. éœ€è¦é¿å…é—ªçƒçš„åŠ¨ç”»æˆ–å¸ƒå±€æ›´æ–°
3. éœ€è¦åŒæ­¥æ›´æ–° DOM çš„æƒ…å†µ

```tsx
// âŒ ä½¿ç”¨ useEffect å¯èƒ½å¯¼è‡´é—ªçƒ
const FlickerComponent = () => {
  const [width, setWidth] = useState(0);
  const elementRef = useRef(null);

  useEffect(() => {
    if (elementRef.current) {
      const measurement = elementRef.current.getBoundingClientRect();
      setWidth(measurement.width);
    }
  }, []);

  return <div ref={elementRef}>å®½åº¦ï¼š{width}px</div>;
};

// âœ… ä½¿ç”¨ useLayoutEffect é¿å…é—ªçƒ
const SmoothComponent = () => {
  const [width, setWidth] = useState(0);
  const elementRef = useRef(null);

  useLayoutEffect(() => {
    if (elementRef.current) {
      const measurement = elementRef.current.getBoundingClientRect();
      setWidth(measurement.width);
    }
  }, []);

  return <div ref={elementRef}>å®½åº¦ï¼š{width}px</div>;
};
```

### Q3: å¦‚ä½•é¿å… useLayoutEffect çš„æ€§èƒ½é—®é¢˜ï¼Ÿ

A: ä¸ºäº†é¿å… useLayoutEffect å¯èƒ½å¸¦æ¥çš„æ€§èƒ½é—®é¢˜ï¼Œå¯ä»¥é‡‡å–ä»¥ä¸‹æªæ–½ï¼š
1. å°½å¯èƒ½ä½¿ç”¨ useEffect æ›¿ä»£
2. ä½¿ç”¨èŠ‚æµå’Œé˜²æŠ–å‡å°‘æ›´æ–°é¢‘ç‡
3. ä¼˜åŒ– DOM æ“ä½œï¼Œå‡å°‘æµ‹é‡å’Œæ›´æ–°æ¬¡æ•°
4. ä½¿ç”¨ ResizeObserver ä»£æ›¿é¢‘ç¹çš„æ‰‹åŠ¨æµ‹é‡

```tsx
// âŒ æ€§èƒ½é—®é¢˜ï¼šé¢‘ç¹çš„ DOM æµ‹é‡å’Œæ›´æ–°
const ProblemComponent = () => {
  const [size, setSize] = useState({ width: 0, height: 0 });
  
  useLayoutEffect(() => {
    const { width, height } = element.getBoundingClientRect();
    setSize({ width, height });
  }); // æ²¡æœ‰ä¾èµ–æ•°ç»„ï¼Œæ¯æ¬¡æ¸²æŸ“éƒ½ä¼šæ‰§è¡Œ

  return <div style={size}>å†…å®¹</div>;
};

// âœ… ä¼˜åŒ–æ–¹æ¡ˆï¼šä½¿ç”¨ ResizeObserver
const OptimizedComponent = () => {
  const [size, setSize] = useState({ width: 0, height: 0 });
  const elementRef = useRef(null);

  useLayoutEffect(() => {
    if (!elementRef.current) return;
    
    const observer = new ResizeObserver(entries => {
      const { width, height } = entries[0].contentRect;
      setSize({ width, height });
    });

    observer.observe(elementRef.current);
    return () => observer.disconnect();
  }, []); // åªåœ¨æŒ‚è½½æ—¶æ‰§è¡Œ

  return <div ref={elementRef} style={size}>å†…å®¹</div>;
};
```

### Q4: useLayoutEffect åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ä¸­ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ

A: åœ¨ SSR ä¸­ä½¿ç”¨ useLayoutEffect ä¼šé‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š
1. æœåŠ¡å™¨ç«¯æ— æ³•è®¿é—® DOMï¼Œæ‰€ä»¥ useLayoutEffect åœ¨æœåŠ¡å™¨ç«¯ä¸ä¼šæ‰§è¡Œ
2. ä¼šæ”¶åˆ°è­¦å‘Šä¿¡æ¯ï¼Œå»ºè®®ä½¿ç”¨ useEffect æ›¿ä»£
3. å¯èƒ½å¯¼è‡´å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“ç»“æœä¸ä¸€è‡´

è§£å†³æ–¹æ¡ˆï¼š
```tsx
// âŒ åœ¨ SSR ä¸­ç›´æ¥ä½¿ç”¨ useLayoutEffect
const Component = () => {
  useLayoutEffect(() => {
    // è¿™ä¼šåœ¨æœåŠ¡å™¨ç«¯è§¦å‘è­¦å‘Š
  }, []);
};

// âœ… åˆ›å»ºä¸€ä¸ªæ¡ä»¶æ€§çš„ useLayoutEffect
const useIsomorphicLayoutEffect = typeof window !== 'undefined' 
  ? useLayoutEffect 
  : useEffect;

const Component = () => {
  useIsomorphicLayoutEffect(() => {
    // åœ¨æœåŠ¡å™¨ç«¯ä¼šé™çº§ä½¿ç”¨ useEffect
  }, []);
};
### ä¸ºä»€ä¹ˆåœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æ—¶ä¼šæ”¶åˆ°è­¦å‘Šï¼Ÿ

è¿™æ˜¯å› ä¸º useLayoutEffect éœ€è¦è®¿é—® DOMï¼Œè€ŒæœåŠ¡å™¨ç«¯æ²¡æœ‰ DOM ç¯å¢ƒã€‚è§£å†³æ–¹æ¡ˆæ˜¯åˆ›å»ºä¸€ä¸ªåŒæ„çš„ useLayoutEffectï¼š

```tsx
// âŒ åœ¨ SSR ä¸­ç›´æ¥ä½¿ç”¨ useLayoutEffect
const Component = () => {
  useLayoutEffect(() => {
    // è¿™ä¼šåœ¨æœåŠ¡å™¨ç«¯è§¦å‘è­¦å‘Š
    const { width } = element.getBoundingClientRect();
  }, []);
};

// âœ… ä½¿ç”¨åŒæ„çš„ useLayoutEffect
const useIsomorphicLayoutEffect =
  typeof window !== 'undefined' ? useLayoutEffect : useEffect;

const Component = () => {
  useIsomorphicLayoutEffect(() => {
    // ç°åœ¨åœ¨æœåŠ¡å™¨ç«¯ä¼šä½¿ç”¨ useEffect
    const { width } = element.getBoundingClientRect();
  }, []);
};
```

### å¦‚ä½•åœ¨å¹¶å‘æ¨¡å¼ä¸‹æ­£ç¡®ä½¿ç”¨ useLayoutEffectï¼Ÿ

åœ¨ React 19 çš„å¹¶å‘æ¨¡å¼ä¸‹ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„ useLayoutEffect çš„ä½¿ç”¨ï¼š

```tsx
// âŒ å¯èƒ½åœ¨å¹¶å‘æ¨¡å¼ä¸‹å‡ºç°é—®é¢˜
const Component = () => {
  const [size, setSize] = useState(0);

  useLayoutEffect(() => {
    // ç›´æ¥åœ¨ effect ä¸­æ›´æ–°çŠ¶æ€å¯èƒ½å¯¼è‡´é—®é¢˜
    setSize(element.offsetWidth);
  }, []);
};

// âœ… å¹¶å‘æ¨¡å¼ä¸‹çš„æ­£ç¡®ä½¿ç”¨
const Component = () => {
  const [size, setSize] = useState(0);
  const sizeRef = useRef(0);

  useLayoutEffect(() => {
    // å…ˆå°†æµ‹é‡ç»“æœå­˜å‚¨åœ¨ ref ä¸­
    sizeRef.current = element.offsetWidth;
    // ä½¿ç”¨ startTransition è¿›è¡Œä½ä¼˜å…ˆçº§æ›´æ–°
    startTransition(() => {
      setSize(sizeRef.current);
    });
  }, []);
};
```

### å¦‚ä½•ä¼˜åŒ– useLayoutEffect çš„æ€§èƒ½ï¼Ÿ

ä¼˜åŒ– useLayoutEffect æ€§èƒ½çš„å…³é”®ç‚¹ï¼š

1. **å‡å°‘æ‰§è¡Œæ¬¡æ•°**
   - åˆç†ä½¿ç”¨ä¾èµ–æ•°ç»„
   - é¿å…ä¸å¿…è¦çš„æ›´æ–°

2. **ä¼˜åŒ–æ‰§è¡Œå†…å®¹**
   - ä¿æŒé€»è¾‘ç®€å•
   - é¿å…å¤æ‚è®¡ç®—

```tsx
// âŒ æ€§èƒ½ä¸ä½³çš„ç¤ºä¾‹
const UnoptimizedComponent = () => {
  const [layout, setLayout] = useState(null);

  useLayoutEffect(() => {
    // å¤æ‚çš„è®¡ç®—å’Œå¤šæ¬¡ DOM æ“ä½œ
    const result = expensiveCalculation();
    setLayout(result);
  }, [/* è¿‡å¤šçš„ä¾èµ–é¡¹ */]);

  return <div style={layout}>å†…å®¹</div>;
};

// âœ… ä¼˜åŒ–åçš„ç¤ºä¾‹
const OptimizedComponent = () => {
  const [layout, setLayout] = useState(null);
  
  // ä½¿ç”¨ useMemo ç¼“å­˜è®¡ç®—ç»“æœ
  const calculatedLayout = useMemo(() => {
    return expensiveCalculation();
  }, [/* å¿…è¦çš„ä¾èµ–é¡¹ */]);

  useLayoutEffect(() => {
    // åªè¿›è¡Œå¿…è¦çš„ DOM æ“ä½œ
    setLayout(calculatedLayout);
  }, [calculatedLayout]);

  return <div style={layout}>å†…å®¹</div>;
};
```

### useLayoutEffect å’Œ requestAnimationFrame å¦‚ä½•é…åˆä½¿ç”¨ï¼Ÿ

åœ¨æŸäº›åœºæ™¯ä¸‹ï¼ŒuseLayoutEffect éœ€è¦é…åˆ requestAnimationFrame ä½¿ç”¨ï¼š

1. **åŠ¨ç”»åœºæ™¯**
   - ç¡®ä¿åŠ¨ç”»æµç•…
   - é¿å…æ‰å¸§

2. **æ€§èƒ½ä¼˜åŒ–**
   - æ‰¹é‡å¤„ç†æ›´æ–°
   - å‡å°‘é‡æ’é‡ç»˜

```tsx
// âœ… ä½¿ç”¨ requestAnimationFrame ä¼˜åŒ–åŠ¨ç”»
const AnimatedComponent = () => {
  const [position, setPosition] = useState({ x: 0, y: 0 });
  const frameRef = useRef();

  useLayoutEffect(() => {
    let startTime = performance.now();

    const animate = (currentTime) => {
      const elapsed = currentTime - startTime;
      const progress = Math.min(elapsed / 1000, 1); // 1ç§’åŠ¨ç”»

      setPosition({
        x: progress * 100, // ç§»åŠ¨100px
        y: progress * 100
      });

      if (progress < 1) {
        frameRef.current = requestAnimationFrame(animate);
      }
    };

    frameRef.current = requestAnimationFrame(animate);

    return () => {
      if (frameRef.current) {
        cancelAnimationFrame(frameRef.current);
      }
    };
  }, []); // åªåœ¨æŒ‚è½½æ—¶æ‰§è¡Œ

  return (
    <div style={{
      transform: `translate(${position.x}px, ${position.y}px)`,
      transition: 'transform 0.3s ease'
    }}>
      ç§»åŠ¨çš„å…ƒç´ 
    </div>
  );
};
```

## ä»£ç ç¤ºä¾‹

### åŸºæœ¬ç”¨æ³•

```tsx
const MyComponent = () => {
  const [width, setWidth] = useState(0);
  const elementRef = useRef();

  useLayoutEffect(() => {
    // åœ¨æµè§ˆå™¨é‡ç»˜ä¹‹å‰æ‰§è¡Œ
    if (elementRef.current) {
      const { width } = elementRef.current.getBoundingClientRect();
      setWidth(width);
    }
  }, []);

  return <div ref={elementRef}>å†…å®¹</div>;
};
```

### åŠ¨ç”»å¤„ç†

```tsx
const AnimatedComponent = ({ isOpen }) => {
  const elementRef = useRef();

  useLayoutEffect(() => {
    if (elementRef.current) {
      elementRef.current.style.transform = isOpen 
        ? 'translateX(0)' 
        : 'translateX(-100%)';
    }
  }, [isOpen]);

  return <div ref={elementRef}>åŠ¨ç”»å†…å®¹</div>;
};
```

## å¸¸è§é—®é¢˜ â“

### Q1: useLayoutEffect vs useEffect å¦‚ä½•é€‰æ‹©ï¼Ÿ

- å¦‚æœä½ çš„ effect ä¸æ¶‰åŠ DOM æ“ä½œï¼Œä½¿ç”¨ useEffect
- å¦‚æœä½ çš„ effect éœ€è¦æµ‹é‡å’Œæ›´æ–° DOMï¼Œå¹¶ä¸”ä¼šå½±å“è§†è§‰æ•ˆæœï¼Œä½¿ç”¨ useLayoutEffect
- å¦‚æœä½ ä¸ç¡®å®šï¼Œå…ˆä½¿ç”¨ useEffectï¼Œåªåœ¨å‡ºç°é—®é¢˜æ—¶æ‰åˆ‡æ¢åˆ° useLayoutEffect

### Q2: ä¸ºä»€ä¹ˆåœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æ—¶ä¼šæ”¶åˆ°è­¦å‘Šï¼Ÿ

å› ä¸º useLayoutEffect æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œéœ€è¦è®¿é—® DOMï¼Œè€ŒæœåŠ¡å™¨ç«¯æ²¡æœ‰ DOMã€‚è§£å†³æ–¹æ¡ˆï¼š

```tsx
// æ¡ä»¶æ€§ä½¿ç”¨ useLayoutEffect
const useIsomorphicLayoutEffect = 
  typeof window !== 'undefined' ? useLayoutEffect : useEffect;
```

### Q3: å¦‚ä½•é¿å…æ€§èƒ½é—®é¢˜ï¼Ÿ

1. å°†å¤æ‚è®¡ç®—ç§»åˆ° effect å¤–éƒ¨
2. ä½¿ç”¨ useMemo ç¼“å­˜è®¡ç®—ç»“æœ
3. ä½¿ç”¨ useCallback ç¼“å­˜å‡½æ•°
4. é€‚å½“ä½¿ç”¨é˜²æŠ–å’ŒèŠ‚æµ
5. è€ƒè™‘ä½¿ç”¨ CSS transforms ä»£æ›¿ JS åŠ¨ç”»
6. åœ¨å¹¶å‘æ¨¡å¼ä¸‹ä½¿ç”¨ useTransition å¤„ç†ä½ä¼˜å…ˆçº§æ›´æ–°

## æ€»ç»“ ğŸ“

useLayoutEffect æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œç‰¹åˆ«é€‚åˆå¤„ç†éœ€è¦åœ¨è§†è§‰æ›´æ–°ä¹‹å‰è¿›è¡Œçš„ DOM æ“ä½œã€‚ä½†è¦è®°ä½ï¼š

1. ğŸ¯ åªåœ¨å¿…è¦æ—¶ä½¿ç”¨
2. ğŸš€ ä¿æŒé€»è¾‘ç®€å•
3. ğŸ“Š æ³¨æ„æ€§èƒ½å½±å“
4. ğŸ”„ ä¼˜å…ˆè€ƒè™‘ useEffect
5. ğŸ¨ ä¼˜å…ˆä½¿ç”¨ CSS åŠ¨ç”»
6. âš¡ æ³¨æ„å¹¶å‘æ¨¡å¼çš„å½±å“

é€šè¿‡åˆç†ä½¿ç”¨ useLayoutEffectï¼Œä½ å¯ä»¥åˆ›å»ºæ›´æµç•…çš„ç”¨æˆ·ç•Œé¢ï¼Œé¿å…ä¸å¿…è¦çš„è§†è§‰é—ªçƒã€‚åŒæ—¶ï¼Œåœ¨ React 19 çš„å¹¶å‘æ¨¡å¼ä¸‹ï¼Œéœ€è¦æ›´åŠ è°¨æ…åœ°ä½¿ç”¨è¿™ä¸ª Hookï¼Œç¡®ä¿ä¸ä¼šå½±å“åº”ç”¨çš„æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚
